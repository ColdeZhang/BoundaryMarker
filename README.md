# BoundaryMarker

## 简介

> 界碑，或称界石，是一种边界标记物，是用于辨别一个地区与另外地区之间的边界位置和走向，例如国家、省、州、市、甚至是农场和社区的边界。在两地区之间的边界走向发生方向性改变时，界碑尤为有用，可以作为指示边界走向的标志。界碑在直的边界上也可以作为仅表示边界所在位置的标记物。
----引用自《维基百科》

界碑系统用于对Residence（领地）进行平替，其具有与领地相似的功能，可以认为是同一种插件。从界碑对界碑的定义中可以看出，相比于于领地插件，界碑系统侧重于对一个较大的范围进行权限控制与管理。

与领地插件相比，界碑系统有以下不同：
- 具有可自定义的权限组；
- 简化合并了一些领地系统的权限；
- 支持多边形区域；

## 支持版本

 - 1.20.1 folia

## 使用方法

#### 1. 创建界碑

首先为你的城镇设计一个统一好看的界碑造型，这样可以让界碑更具有辨识度（当然你也可以不设计）：
![f4685128-dfc3-4345-88c0-ade1d4805a43-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04c1fbf9c0.png)

然后在你的界碑上放一块木牌（理论上任意材质的木牌都可以，木牌一定要是贴在方块上的，插在地上的或者悬挂的是不会有效的），在第二行输入城镇的名字，第三行输入此界碑的编号：
![480bd987-fc59-4464-8626-5ee70bbfdc16-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04c39c7abc.png)

```

#my_town#
No.1*

```
需要注意的是：
- 名字的左右必须要有`#`;
- 编号的左边必须是`No.`（有个点别忘了，还有N是大写）
- 编号的右边必须是`*`;
- 不可以使用中文或中文字符，中文会索引不到；
- 不可以有空格，使用下划线或小横线代替；

然后右键木牌进入编辑模式，不用修改任何东西点击完成，此时你的聊天栏如果出现了以下信息就说明你的第一个界碑创建成功了：
![747d17c1-1d72-475f-922a-8a20425addd3-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04c46e61b6.png)

按照这个方法创建剩余的若干个界碑，这些界碑**按照编号顺序**围起来的多边形区域（你至少要有三个界碑）就是你的城镇保护范围。


#### 2. 修改界碑

- 如果你觉得某个界碑的位置不对，可以直接把界碑牌敲掉，会自动删除这个界碑点；
- 如果你想修改界碑的编号，直接编辑编号数字即可；

#### 3. 可视化UI
使用下面的指令可以打开箱子菜单。
```
/bm cui
```
箱子菜单的首页会展示你当前划定的所有界碑区域，点击进入对应城镇的管理面板：
![738a1d69-331e-49df-8fc5-c74b12236773-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04c4dc4905.png)

![0409d882-3266-4eca-a9ff-92851167a61a-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04cd7c5767.png)

- 第一行三个图标分别是
  【权限组管理】【修改欢迎语】【修改欢送语】
- 中间左侧三个图片分别对应了城镇的六个保护设置：
  【是否允许爆炸】【玩家是否发光】【是否允许水流】
  【是否允许岩浆】【火焰是否蔓延】【农田是否践踏】
- 右侧六个按钮表示城镇保护区域的顶层与底层的设置：
  【当前顶层Y坐标】【增加顶层高度】【减少顶层高度】
  【当前底层Y坐标】【增加底层高度】【减少底层高度】

点击权限组管理可以进入此城镇的权限组系统：

![98b8a79f-c788-493c-8fd0-e6f6735e900e-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04ce29c737.png)

- 三个按钮从左到右依次是：
  【权限组设置】【添加权限组】【删除权限组】
- 与领地（Residence）插件不同，界碑系统通过权限组设置用户的权限。你无法为某个用户设置单独的权限，而是通过创建不同的权限组，将用户加入这个权限组中，来使得用户拥有这些权限。

点击编辑权限组，即可看到当前这个城镇的所有权限组：
![670532e1-fe3c-45f2-b891-b01397c0a616-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04cea6081f.png)

- 一个刚创建的城镇默认有三个权限组 【trust】【ban】【defult】
- 其中【trust】组拥有所有的权限【ban】组什么权限都没有
- 【defult】组是默认的玩家可以有的权限，也就是当一个用户没有被指定你配置所属任何权限组的时候他可以拥有的权限，默认这个权限组只有move权限，你可以通过修改此权限组的权限来决定默认玩家的权限

点击一个角色组，则可以进入此角色组的设置：
![e156f3d6-6a06-4289-b415-664046ecbbe5-image.png](https://ssl.lunadeer.cn:14437/i/2023/08/07/64d04cf434b91.png)
你可以在此设置此角色组的权限、修改角色组的名字、添加或者移除此角色组下的玩家。


#### 4. 权限列表

| 权限              | 解释   | 
|-----------------| ------ | 
| animal_killing  | 对动物造成伤害 | 
| use             | 是否可以使用功能方块（工作台、铁砧、信标、附魔、蛋糕等） | 
| bed             | 是否可以使用床 | 
| container       | 是否可以使用容器（箱子、木桶、漏斗、发射器、投掷器） | 
| destroy         | 是否可以破坏方块 | 
| res_stone       | 是否可以使用红石元件 | 
| door            |  是否可以使用门（包含活板门、栅栏门） | 
| dye             | 是否可以染色 | 
| throwing        | 是否可以投掷东西（雪球、鸡蛋、魔影珍珠） | 
| plant           | 是否可以种植 | 
| hook            | 是否可以使用钩子 | 
| ignite          | 是否可以点火 | 
| leash           | 是否可以使用栓绳 | 
| mob_killing     | 是否可以攻击怪物 | 
| move            | 是否可以移动 | 
| name_tag        | 是否可以使用命名牌 | 
| place           | 是否可以放置方块 | 
| riding          | 是否可以骑乘 | 
| shear           | 是否可以剪羊毛 | 
| shoot           | 是否可以射箭 | 
| trade           | 是否可以交易 | 
| vehicle_destroy | 是否可以破坏载具 | 
| harvest         | 是否可以收获 | 
| hopper          | 特殊容器（漏斗、漏斗矿车、发射器、投掷器） |
